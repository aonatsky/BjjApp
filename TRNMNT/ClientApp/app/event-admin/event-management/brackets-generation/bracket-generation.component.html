<div class="ui-g">
    <category-with-division-filter [eventId]="eventId" (onFilterChanged)="setFilter($event)"></category-with-division-filter>
</div>
<div class="ui-g">
    <div class="ui-g-12">
        <button pButton type="button" iconPos="left" icon="fa-plus" label="Create Bracket" [disabled]="filter.weightDivisionId == ''" (click)="createBracket();"></button>
        <button pButton type="button" iconPos="left" icon="fa-save" label="Update" [disabled]="!bracket"></button>
        <button pButton type="button" iconPos="left" icon="fa-download" label="Download" [disabled]="!bracket"></button>
    </div>
</div>
<div class="ui-g" *ngIf="bracket">
    
    <div class="ui-g-10 ui-g-offset-1">
        <div class="ui-g-4" *ngFor="let col of getColumns();">
            <div *ngIf="col % 2 == 0">
                <div *ngFor="let row of getRows();" class="ui-g-12 bracket-block ui-g-nopad">
                    <div *ngIf="row % 2 == 0">
                        <div class="bracket">
                            <div class="bracket-participant-plate ui-g-12" [class.droppable]="dragMode" pDraggable="participantPlate" pDroppable="participantPlate" (onDragStart)="dragStart()" (onDragEnd)="dragEnd()">
                                {{displayParticipantInfo(rounds[getRoundIndex(col,row)],1)}}
                            </div>
                            <div class="bracket-participant-plate ui-g-12" [class.droppable]="dragMode" pDraggable="participantPlate" pDroppable="participantPlate" (onDragStart)="dragStart()" (onDragEnd)="dragEnd()">
                                {{displayParticipantInfo(rounds[getRoundIndex(col,row)],2)}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>